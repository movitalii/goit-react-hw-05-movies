"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[964],{877:function(e,t,n){n.d(t,{LN:function(){return u},S0:function(){return s},ul:function(){return i},wO:function(){return m},xm:function(){return c}});var r=n(388),a="75b5a9ee57ad6476a1c136f37b30d941",o="https://api.themoviedb.org/3/",c=function(){return r.Z.get("".concat(o,"trending/all/day?api_key=").concat(a))},u=function(e){return r.Z.get("".concat(o,"search/movie?api_key=").concat(a,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"))},i=function(e){return r.Z.get("".concat(o,"movie/").concat(e,"?api_key=").concat(a,"&language=en-US"))},s=function(e){return r.Z.get("".concat(o,"movie/").concat(e,"/credits?api_key=").concat(a,"&language=en-US"))},m=function(e){return r.Z.get("".concat(o,"movie/").concat(e,"/reviews?api_key=").concat(a,"&language=en-US&page=1"))}},964:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(861),a=n(885),o=n(757),c=n.n(o),u=n(877),i=n(791),s=n(731),m=n(689),l="Movies_formContainer__f2YGl",f="Movies_moviesSection__o4M2J",p="Movies_movieList__FD6N4",v="Movies_movieItem__U+pt+",h="Movies_movieItemTitle__OEGQ1",_=n(596),d="SearchForm_form__o80os",g="SearchForm_formButton__7hrMY",x="SearchForm_formInput__2FmZL",w=n(184),b=function(e){var t=e.onSubmitItem,n=(0,i.useState)(""),r=(0,a.Z)(n,2),o=r[0],c=r[1];return(0,w.jsxs)("form",{className:d,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return _.Am.warn("input value can not be empty");t(o),c("")},children:[(0,w.jsx)("button",{className:g,type:"submit"}),(0,w.jsx)("input",{className:x,onInput:function(e){return c(e.currentTarget.value.toLowerCase())},type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o})]})},k=function(){var e,t=(0,i.useState)([]),n=(0,a.Z)(t,2),o=n[0],d=n[1],g=(0,s.lr)(),x=(0,a.Z)(g,2),k=x[0],y=x[1],S=null!==(e=k.get("search"))&&void 0!==e?e:"",j=(0,m.TH)();(0,i.useEffect)((function(){if(S){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.LN)(S);case 2:if(t=e.sent,0!==(n=t.data).results.length){e.next=6;break}return e.abrupt("return",_.Am.warn("Did not have any movies with name ".concat(S)));case 6:d(n.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[S]);return(0,w.jsxs)("section",{className:l,children:[(0,w.jsx)(b,{onSubmitItem:function(e){if(""===e)return alert(" Input value can not be empty");y(""!==e?{search:e}:{})}}),(0,w.jsx)("div",{className:f,children:o.length>0&&(0,w.jsx)("ul",{className:p,children:o.map((function(e){var t=e.id,n=e.title,r=e.poster_path;e.release_date;return(0,w.jsx)("li",{className:v,children:(0,w.jsxs)(s.OL,{to:"/movies/".concat(t),state:{from:j},children:[(0,w.jsx)("img",{src:r?"https://image.tmdb.org/t/p/w300".concat(r):"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg",alt:n}),(0,w.jsx)("h3",{className:h,children:n})]})},t)}))})})]})}},861:function(e,t,n){function r(e,t,n,r,a,o,c){try{var u=e[o](c),i=u.value}catch(s){return void n(s)}u.done?t(i):Promise.resolve(i).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var c=e.apply(t,n);function u(e){r(c,a,o,u,i,"next",e)}function i(e){r(c,a,o,u,i,"throw",e)}u(void 0)}))}}n.d(t,{Z:function(){return a}})}}]);
//# sourceMappingURL=964.e4f340de.chunk.js.map